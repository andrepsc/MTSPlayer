/* file-manager.js Created on 23/02/2015 SIEL's file handling methods @version Revision 1.1.0 @since Build 1.0 (02 2015) @author Pedro Montibeler */
function openFile(e){for(var n=e.target.files,r=0;r<n.length;r++)parseFile(n[r])}function parseFile(e){Papa.parse(e,{header:!0,delimiter:";",complete:function(n){var r=n.data;parsedFiles.push(r),fileNames.push(e.name);var t=document.getElementById("rep-table");rowN++;var a=t.insertRow(rowN),o=a.insertCell(0);o.innerHTML=e.name;var i=a.insertCell(1);i.innerHTML=r.length;var l=a.insertCell(2);l.innerHTML="<span onclick=\"editRep('"+e.name+"',"+(rowN-1)+')" class="glyphicon glyphicon-edit btn btn-primary" title="editar repertório" style="color:#fff;"></span>';var s=a.insertCell(3);s.innerHTML='<span onclick="delRep('+(rowN-1)+')" class="glyphicon glyphicon-trash btn btn-danger" title="remover repertório" style="color:#fff;"></span>';var p=a.insertCell(4);p.innerHTML='<span onclick="loadTasksLocal('+(rowN-1)+')" class="glyphicon glyphicon-play btn btn-success" title="executar repertório" style="color:#fff;"></span>';for(var d=[],c=0;c<r.length;c++)d.push([!1,!1]);reforcoIndex.push(d),progressIndex.push(!1),escIndex.push(!1),capsIndex.push(!0),log.push([])}})}function download(e,n,r){{var t=document,a=arguments,o=t.createElement("a"),i=(a[0],a[1]);a[2]||"text/plain"}if(o.href="data:"+r+"charset=utf-8,"+escape(e),window.MSBlobBuilder){var l=new MSBlobBuilder;return l.append(e),navigator.msSaveBlob(l,n)}if("download"in o)return o.setAttribute("download",i),o.innerHTML="downloading...",t.body.appendChild(o),setTimeout(function(){var e=t.createEvent("MouseEvents");e.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(e),t.body.removeChild(o)},66),!0;var s=t.createElement("iframe");return t.body.appendChild(s),s.src="data:"+(a[2]?a[2]:"application/octet-stream")+(window.btoa?";base64":"")+","+(window.btoa?window.btoa:escape)(e),setTimeout(function(){t.body.removeChild(s)},333),!0}var parsedFiles=[],fileNames=[],reforcoIndex=[],progressIndex=[],escIndex=[],capsIndex=[],log=[],rowN=0;